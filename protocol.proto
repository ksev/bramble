syntax = "proto3";

package protocol;

message Sensor {
  int32 id = 1;
  float value = 2;
}

message Zigbee2MQTTConfig {
  string url = 1;
  string username = 2;
  string password = 3;
}

message ConfigResult {
  oneof result_oneof {
    bool success = 4;
    string message = 5;
  }
}

service ConfigService {
  rpc Zigbee2MQTT(Zigbee2MQTTConfig) returns (ConfigResult);
  rpc Listen(Sensor) returns (stream Sensor);
}